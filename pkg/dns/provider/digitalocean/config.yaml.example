# DigitalOcean DNS Provider Configuration

name: digitalocean
display_name: DigitalOcean
type: rest

auth:
  method: bearer
  credentials:
    token: "${DIGITALOCEAN_API_TOKEN}"
    # Get your API token from: https://cloud.digitalocean.com/account/api/tokens

api:
  base_url: "https://api.digitalocean.com/v2"
  endpoints:
    get_records: "/domains/{domain}/records"
    create_record: "/domains/{domain}/records"
    update_record: "/domains/{domain}/records/{record_id}"
    delete_record: "/domains/{domain}/records/{record_id}"
  headers:
    Content-Type: "application/json"
  timeout: 30
  retries: 3

mappings:
  request:
    hostname: "name"
    record_type: "type"
    address: "data"      # DigitalOcean uses "data" instead of "address"
    ttl: "ttl"
    mx_pref: "priority"
  response:
    hostname: "name"
    record_type: "type"
    address: "data"
    ttl: "ttl"
    mx_pref: "priority"
  list_path: "domain_records"  # DigitalOcean wraps in "domain_records" object

settings:
  zone_id_required: false

